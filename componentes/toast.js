/**
 * Importa el objeto Componente de la libreria de Alendra.js
 */
import Componente from '../javascript/componente.js';

/**
 * Componente Toast
 * 
 * @interface
 * 
 * @implements {Componente}
 */
export default function Toast() {
  /**
	 * Establece la herencia del objeto Componente
	 */
  Componente.call(this);

//==============================================================================
//--------------------------------- Plantilla ----------------------------------
//==============================================================================

  /**
   * Define la plantilla del componente Toast
   */
  this.setPlantilla(
  /* html */ `
    <!-- DIV contenedor -->
    <div
    class="ctr-toast bg-gris">
      <!-- Nodos hijos -->
      <div
      class="p-16p rnd-1 txt-breakw">
        <p
        data-id="p_mensaje"
        class="txt-blanco2">
        </p>
      </div>
    </div>
  `);
  
//==============================================================================
//------------------------------- Inicialización -------------------------------
//==============================================================================

//==============================================================================
//--------------------------------- Variables ----------------------------------
//==============================================================================

//==============================================================================
//--------------------------------- Funciones ----------------------------------
//==============================================================================

  /**
   * Renderiza el componente en el body del DOM y espera 2000 ms para eliminarse
   * 
   * @param timeout Tiempo de retraso para eliminar el toast de la pantalla
   */
  this.mostrar = function(timeout = 2000) {
    this.render(document.body);
    window.setTimeout(_ => 
      this.eliminar(), timeout);
    return this; };

//==============================================================================
//----------------------------------- Hooks ------------------------------------
//==============================================================================

  /**
   * Define el mensaje que mostrara el componente Toast
   */
  this.setMensaje = function(mensaje) {
    if(typeof mensaje === 'string' || mensaje instanceof String)
      this.dom.p_mensaje.innerHTML = mensaje;
    return this; }

//==============================================================================
//---------------------------------- Eventos -----------------------------------
//==============================================================================

//==============================================================================
//----------------------------------- Proxy ------------------------------------
//==============================================================================

//==============================================================================
//------------------------------------ Apis ------------------------------------
//==============================================================================

//==============================================================================
//---------------------------------- Interfaz ----------------------------------
//==============================================================================

//==============================================================================
//---------------------------------- Creación ----------------------------------
//==============================================================================

}

/**
 * Establece la herencia del objeto Toast
 */
Toast.prototype = Object.create(Componente.prototype);